---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "illumio-cloudsecure_organization_policy_rule Resource - illumio-cloudsecure"
subcategory: ""
description: |-
  Manages policy rules in CloudSecure organization policies.
---

# illumio-cloudsecure_organization_policy_rule (Resource)

Manages policy rules in CloudSecure organization policies.

## Example Usage

```terraform
resource "illumio-cloudsecure_organization_policy" "example" {
  name        = "org-policy-example"
  description = "Example organization policy"
  enabled     = true
}

resource "illumio-cloudsecure_ip_list" "example" {
  name        = "example"
  description = "IP range for example ip list"

  ip_ranges = [
    {
      exclusion       = false
      from_ip_address = "10.0.0.1"
      to_ip_address   = "10.0.0.255"
    }
  ]
}

resource "illumio-cloudsecure_organization_policy_rule" "example" {
  organization_policy_id = illumio-cloudsecure_organization_policy.example.id
  action                 = "Allow"
  description            = "Allow traffic from IP list to API role on ports 90-9000"

  from_ip_list_ids = [
    illumio-cloudsecure_ip_list.example.id
  ]

  to_labels = [
    {
      key   = "role"
      value = "API"
    }
  ]

  to_port_ranges = [
    {
      from_port = 90
      to_port   = 9000
      protocol  = "TCP"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `action` (String) The action to take for flows matched by the organization policy rule. Must be `"Allow"`, `"Deny"` or `"OverrideDeny"`.
- `organization_policy_id` (String) ID of the CloudSecure organization policy to contain this rule.
- `to_port_ranges` (List of Object) List of transport protocol ports to allow/deny traffic to. The `protocol` for each port must be `"TCP"` or `"UDP"`. (see [below for nested schema](#nestedatt--to_port_ranges))

### Optional

- `description` (String) Description of the organization policy rule.
- `enabled` (Boolean) Indicates whether the organization policy rule is enabled.
- `from_ip_list_ids` (List of String) List of IDs of IP lists to allow/deny traffic from.
- `from_labels` (List of Object) List of CloudSecure labels of sources to allow/deny traffic from. (see [below for nested schema](#nestedatt--from_labels))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `to_ip_list_ids` (List of String) List of IDs of IP lists to allow/deny traffic to.
- `to_labels` (List of Object) List of CloudSecure labels of destinations to allow/deny traffic to. (see [below for nested schema](#nestedatt--to_labels))

### Read-Only

- `id` (String) CloudSecure ID.

<a id="nestedatt--to_port_ranges"></a>
### Nested Schema for `to_port_ranges`

Required:

- `from_port` (Number)
- `protocol` (String)
- `to_port` (Number)


<a id="nestedatt--from_labels"></a>
### Nested Schema for `from_labels`

Optional:

- `key` (String)
- `value` (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) Maximum duration of each Create API request for this resource. If not specified, defaults to the provider's "request_timeout" attribute. Must be a string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) Maximum duration of each Delete API request for this resource. If not specified, defaults to the provider's "request_timeout" attribute. Must be a string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for Delete API requests is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) Maximum duration of each Read API request for this resource. If not specified, defaults to the provider's "request_timeout" attribute. Must be a string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `update` (String) Maximum duration of each Update API request for this resource. If not specified, defaults to the provider's "request_timeout" attribute. Must be a string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--to_labels"></a>
### Nested Schema for `to_labels`

Optional:

- `key` (String)
- `value` (String)
