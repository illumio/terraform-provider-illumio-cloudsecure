---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "illumio-cloudsecure_application_policy_rule Resource - illumio-cloudsecure"
subcategory: ""
description: |-
  Manages policy rules on CloudSecure applications.
---

# illumio-cloudsecure_application_policy_rule (Resource)

Manages policy rules on CloudSecure applications.

## Example Usage

```terraform
resource "illumio-cloudsecure_application_policy_rule" "web_to_monitoring_allow_rule" {
  action         = "Allow"
  application_id = "d058a1ac-2e67-4f5b-8fb1-f0440eea6a67"
  description    = "Allow traffic from web servers to the monitoring role on specified TCP ports"

  from_ip_list_ids = ["c8427366-c5b8-49ed-a723-6fb3e9bb78a6"]

  from_labels = [
    {
      key   = "CostCenter"
      value = "1234"
    },
    {
      key   = "type"
      value = "server"
    }
  ]

  to_ip_list_ids = ["ea4436e1-436b-4b4d-8967-17cb946b53a5"]

  to_labels = [
    {
      key   = "role"
      value = "nagios"
    }
  ]

  to_port_ranges = [
    {
      from_port = 80
      to_port   = 80
      protocol  = "TCP"
    },
    {
      from_port = 443
      to_port   = 443
      protocol  = "TCP"
    },
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `action` (String) The action to take for flows matched by the application policy rule. Must be `"Allow"`, `"Deny"` or `"OverrideDeny"`.
- `application_id` (String) ID of the CloudSecure application on which this rule is based.
- `to_port_ranges` (List of Object) List of transport protocol ports to allow/deny traffic to. The `protocol` for each port must be `"TCP"` or `"UDP"`. (see [below for nested schema](#nestedatt--to_port_ranges))

### Optional

- `description` (String) Description of the application policy rule.
- `external_scope` (Boolean) Specifies whether the application policy allow rule can be applied to scope outside the CloudSecure application. Applicable only for `"Allow"` action.
- `from_ip_list_ids` (List of String) List of IDs of IP lists to allow/deny traffic from.
- `from_labels` (List of Object) List of Cloudsecure labels of sources to allow/deny traffic from. (see [below for nested schema](#nestedatt--from_labels))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `to_ip_list_ids` (List of String) List of IDs of IP lists to allow/deny traffic to.
- `to_labels` (List of Object) List of Cloudsecure labels of destinations to allow/deny traffic to. (see [below for nested schema](#nestedatt--to_labels))

### Read-Only

- `id` (String) CloudSecure ID.

<a id="nestedatt--to_port_ranges"></a>
### Nested Schema for `to_port_ranges`

Required:

- `from_port` (Number)
- `protocol` (String)
- `to_port` (Number)


<a id="nestedatt--from_labels"></a>
### Nested Schema for `from_labels`

Optional:

- `key` (String)
- `value` (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) Maximum duration of each Create API request for this resource. If not specified, defaults to the provider's "request_timeout" attribute. Must be a string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) Maximum duration of each Delete API request for this resource. If not specified, defaults to the provider's "request_timeout" attribute. Must be a string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for Delete API requests is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) Maximum duration of each Read API request for this resource. If not specified, defaults to the provider's "request_timeout" attribute. Must be a string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `update` (String) Maximum duration of each Update API request for this resource. If not specified, defaults to the provider's "request_timeout" attribute. Must be a string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


<a id="nestedatt--to_labels"></a>
### Nested Schema for `to_labels`

Optional:

- `key` (String)
- `value` (String)
