---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "{{.ProviderShortName}} Provider"
subcategory: ""
description: |-
{{ .Description | plainmarkdown | trimspace | prefixlines "  " }}
---

# {{.ProviderShortName}} Provider

{{ .Description | trimspace }}

{{ if .HasExample -}}
## Example Usage

{{tffile .ExampleFile }}
{{- end }}

## Authentication

Illumio CloudSecure follows the OAuth 2 standard protocol for authenticating the Terraform provider.
To generate the necessary OAuth 2 `client_id` and `client_secret` to authenticate the CloudSecure Terraform provider, you will need to create a Service Account from the [console](https://console.illum.io/#/serviceAccounts) and generate a new secret.

Illumio CloudSecure provides several methods for authenticating the Terraform provider using OAuth 2:

1. Using the `client_id` and `client_secret`
1. Using an access token

### Configuring `client_id` and `client_secret` in the Provider Configuration

Credentials can be provided by adding a `client_id` and client_secret, or an `access_token`, into the `illumio-cloudsecure` provider block.

```terraform
provider "illumio-cloudsecure" {
  client_id     = "my-client-id"
  client_secret = "my-secret-id"
}
```

| :warning: WARNING:                                                                                                                                                        |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Hard-coded credentials are not recommended in any Terraform configuration and risks secret leakage should this file ever be committed to a public version control system. |

### Configuring `client_id` and `client_secret` using Environment Variables

Preferably, these credentials can be provided via input variables which values are set using environment variables.

```terraform
variable "illumio_cloudsecure_client_id" {
  type        = string
  description = "The OAuth 2 client identifier used to authenticate against the CloudSecure Config API."
}

variable "illumio_cloudsecure_client_secret" {
  type        = string
  sensitive   = true
  description = "The OAuth 2 client secret used to authenticate against the CloudSecure Config API."
}

provider "illumio-cloudsecure" {
  client_id     = var.illumio_cloudsecure_client_id
  client_secret = var.illumio_cloudsecure_client_secret
}
```

```terraform
% export TF_VAR_illumio_cloudsecure_client_id="my-client-id"
% export TF_VAR_illumio_cloudsecure_client_secret="my-client-secret"
% terraform plan
```

### Access Token

Clients may pass the `access_token` directly instead of using the `client_id` and `client_secret`.
You will need to call the OAuth 2 Token Endpoint at https://cloud.illum.io/api/v1/authenticate on your own with the `client_id` and `client_secret` to obtain the `access_token`.

```
curl -X POST https://cloud.illum.io/api/v1/authenticate -d 'client_id=my-client-id' -d 'client_secret=my-client-secret' -d 'grant_type=client_credentials'
```

```terraform
variable "illumio_cloudsecure_access_token" {  
  type        = string  
  sensitive   = true  
  description = "The OAuth 2 access token used to authenticate against the CloudSecure Config API."  
}  

provider "illumio-cloudsecure" {  
  access_token = var.illumio_cloudsecure_access_token  
}
```

```terraform
% export TF_VAR_illumio_cloudsecure_access_token="my-access-token"  
% terraform plan  
```

## API Request Timeouts

The maximum duration (timeout) of each Create/Read/Update/Delete API request
performed by the provider to the CloudSecure Config API can be configured
for all requests globally by setting the provider's `request_timeout`
attribute:

```terraform
provider "illumio-cloudsecure" {
  // ...
  request_timeout = "60s"
}
```

This provider-wide `request_timeout` can be overriden for each API request
individually in each resource by setting the optional
[`timeouts` block](https://developer.hashicorp.com/terraform/plugin/framework/resources/timeouts)
in some resources:

```terraform
resource "illumio-cloudsecure_aws_account" "account1" {
  // ...
  timeouts {
    create = "35s"
    delete = "35s"
  }
}

resource "illumio-cloudsecure_aws_account" "accounts" {
  // ...
  timeouts {
    create = "40s"
    read   = "40s"
    update = "40s"
    delete = "40s"
  }
}
```

{{ .SchemaMarkdown | trimspace }}
